<!--
=========================================================
Material Dashboard - v2.1.2
=========================================================

Product Page: https://www.creative-tim.com/product/material-dashboard
Copyright 2020 Creative Tim (https://www.creative-tim.com)
Coded by Creative Tim

=========================================================
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. -->
<!DOCTYPE html>
<html lang="en">
<%- contentFor('header') %>

<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="img/apple-icon.png">
  <link rel="icon" type="image/png" href="img/favicon.png">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.3.1/lumen/bootstrap.min.css" />
  <link href="css/material-dashboard.css?v=2.1.2" rel="stylesheet" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    Material Dashboard by Creative Tim
  </title>
  <meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css"
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
  <!-- CSS Files -->
  <link href="css/material-dashboard.css?v=2.1.2" rel="stylesheet" />
  <!-- CSS Just for demo purpose, don't include it in your project -->

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
    integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.15.4/dist/bootstrap-table.min.css">

  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet"
    type="text/css">
  <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
  <!-- Theme CSS -->
  <link href="css/freelancer.css" rel="stylesheet">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.3.1/lumen/bootstrap.min.css" />
  <link href="css/material-dashboard.css?v=2.1.2" rel="stylesheet" />

  <link href="css/map.css" rel="stylesheet">

</head>

<body class="">
  <div class="wrapper ">
    <div class="sidebar" data-color="purple" data-background-color="white" data-image="img/sidebar-1.jpg">
      <div class="logo"><a href="http://www.creative-tim.com" class="simple-text logo-normal">
          SI Bergota
        </a></div>
      <div class="sidebar-wrapper">
        <ul class="nav">
          <li class="nav-item">
            <a class="nav-link" href="./dashboard">
              <i class="material-icons">dashboard</i>
              <p>Data Makam</p>
            </a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="./tables">
              <i class="material-icons">content_paste</i>
              <p>Daftar Makam</p>
            </a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="./pengaturan">
              <i class="material-icons">settings</i>
              <p>Pengaturan</p>
            </a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="./signOut">
              <i class="material-icons">login</i>
              <p>Keluar</p>
            </a>
          </li>
      </div>
    </div>
    <div class="main-panel">
      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
          aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <i class="fa fa-fw fa-bars"></i> SI Bergota</a>
        </button>
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <a class="navbar-brand" href="javascript:;">Pengaturan </a>
          </div>

          <div class="collapse navbar-collapse justify-content-end">

            <ul class="navbar-nav">

              <li class="nav-item dropdown">
                <a class="nav-link" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown"
                  aria-haspopup="true" aria-expanded="false">
                  <i class="material-icons">notifications</i>
                  <p class="d-lg-none d-md-block">
                    Some Actions
                  </p>
                </a>

              </li>
              <li class="nav-item dropdown">
                <a class="nav-link" href="javascript:;" id="navbarDropdownProfile" data-toggle="dropdown"
                  aria-haspopup="true" aria-expanded="false">
                  <i class="material-icons">person</i>
                  <p class="d-lg-none d-md-block">
                    Account
                  </p>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownProfile">
                  <a class="dropdown-item" href="#">Pengaturan</a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="/homepage">Keluar</a>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <!-- Navbar -->
      <!-- End Navbar -->
      <div class="content">
        <div class="container-fluid">
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#tambahDataModal">
            Tambah Data Baru
          </button>


          <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="card-header card-header-primary">
                  <h4 class="card-title ">Juru Kunci</h4>
                  <p class="card-category">Data Juru Kunci di TPU Bergota</p>
                </div>
                <div class="card-body">
                  <div class="table-responsive">
                    <div id="tableIPAProv">
                      <table id="table" data-toolbar="#toolbar" data-search="true" data-show-refresh="true"
                        data-show-toggle="true" data-show-fullscreen="true" data-show-columns="true"
                        data-show-columns-toggle-all="true" data-detail-view="true" data-show-export="true"
                        data-click-to-select="true" data-detail-formatter="detailFormatter"
                        data-minimum-count-columns="2" data-show-pagination-switch="true" data-pagination="true"
                        data-id-field="id" data-page-list="[10, 25, 50, 100, all]" data-show-footer="true"
                        data-side-pagination="server"
                        data-url="https://examples.wenzhixin.net.cn/examples/bootstrap_table/data"
                        data-response-handler="responseHandler">
                      </table>
                      nama juri , tanggala , alamat, no hp, ama blok
                      <table id="table" data-toggle="table" data-height="480" data-ajax="ajaxRequest"
                        data-side-pagination="server" data-pagination="true" data-detail-view="true"
                        data-show-columns="true" data-show-fullscreen="true" data-buttons-class="primary"
                        data-detail-formatter="detailFormatter">
                        <thead>
                          <tr>
                            <th data-field="Nama Juru Makam">Nama Jenazah</th>
                            <th data-field="zxc">Tanggal Meninggal</th>
                            <th data-field="Tanggal Kubur">Tanggal Kubur</th>
                            <th data-field="Jenis Kelamin">Jenis Kelamin</th>
                            <th data-field="Nama Bapak">Nama Bapak</th>
                            <th data-field="Nama Ibu">Nama Ibu</th>
                            <th data-field="Nama Istri/Suami">Nama Istri/Suami</th>
                            <th data-field="Blok">Blok</th>
                            <th data-field="Bagian">Bagian</th>
                            <th data-field="Petak">Petak</th>
                            <th data-field="Nama Penanggung
                              Jawab">Nama Lengkap Penanggung
                              Jawab</th>
                            <th data-field="Hubungan PJ">Hubungan PJ</th>
                            <th data-field="Nomor Telepon PJ">Nomor Telepon PJ</th>
                            <th data-field="Alamat PJ">Alamat PJ</th>
                            <th data-field="Kelurahan PJ">Kelurahan PJ</th>
                            <th data-field="Kecamatan PJ">Kecamatan PJ</th>
                          </tr>
                        </thead>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <footer class="footer">
        <div class="container-fluid">
          <nav class="float-left">
            <ul>
              <li>
                <a href="https://www.creative-tim.com">
                  Creative Tim
                </a>
              </li>
              <li>
                <a href="https://creative-tim.com/presentation">
                  About Us
                </a>
              </li>
              <li>
                <a href="http://blog.creative-tim.com">
                  Blog
                </a>
              </li>
              <li>
                <a href="https://www.creative-tim.com/license">
                  Licenses
                </a>
              </li>
            </ul>
          </nav>
          <div class="copyright float-right">
            &copy;
            <script>
              document.write(new Date().getFullYear())
            </script>, made with <i class="material-icons">favorite</i> by
            <a href="https://www.creative-tim.com" target="_blank">Creative Tim</a> for a better web.
          </div>
        </div>
      </footer>
    </div>
  </div>

  <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Detail Data</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          ...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Ok</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Detail Data</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          ...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Ok</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="tambahDataModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Detail Data</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="p-3">
            <form action="/addData" method="POST">
              <h3>Data Jenazah</h3>
              <div class="form-group">
                <label class="label-control">Nama Lengkap</label>
                <input type="text" name="namaLengkapJenazah" placeholder="Masukkan Nama Lengkap Jenazah"
                  class="form-control" required autofocus required>
              </div>
              <div class="form-group">
                <label class="label-control">Tanggal Meninggal</label>
                <input type="date" id="datepicker" name="tanggalMeninggal" placeholder="Masukkan Tanggal Meninggal"
                  class="form-control" required>
              </div>
              <div class="form-group">
                <label class="label-control">Tanggal Kubur</label>
                <input type="date" id="datepicker1" name="tanggalKubur" placeholder="Masukkan Tanggal Kubur"
                  class="form-control" required>
              </div>
              <div class="">
                <label class="label-control">Jenis Kelamin</label>
                <br>
                <label class="radio-inline"><input type="radio" name="jenisKelamin" value="Laki-laki">Laki-laki</label>
                <label class="radio-inline"><input type="radio" name="jenisKelamin" value="Perempuan">Perempuan</label>
              </div>
              <div class="form-group">
                <label class="label-control">Nama Bapak</label>
                <input type="text" name="namaBapak" placeholder="Masukkan Nama Bapak Jenazah" class="form-control"
                  required>
              </div>
              <div class="form-group">
                <label class="label-control">Nama Ibu</label>
                <input type="text" name="namaIbu" placeholder="Masukkan Nama Ibu Jenazah" class="form-control" required>
              </div>
              <div class="form-group">
                <label class="label-control">Nama Istri/Suami</label>
                <input type="text" name="namaIstriSuami" placeholder="Masukkan Nama Istri/Suami Jenazah"
                  class="form-control" required>
              </div>
              <h3>Data Makam</h3>
              <div class="form-group">
                <label class="label-control">Blok</label>
                <input type="text" name="blok" placeholder="Masukkan Blok makam" class="form-control" required>
              </div>
              <div class="form-group">
                <label class="label-control">Bagian</label>
                <input type="text" name="bagian" placeholder="Masukkan Bagian makam" class="form-control" required>
              </div>
              <div class="form-group">
                <label class="label-control">Petak</label>
                <input type="text" name="petak" placeholder="Masukkan Petak makam" class="form-control" required>
              </div>
              <h3>Data Penanggung Jawab</h3>
              <div class="form-group">
                <label class="label-control">Nama Lengkap</label>
                <input type="text" name="namaLengkapPenanggungJawab"
                  placeholder="Masukkan Nama Lengkap Penanggung Jawab" class="form-control" required autofocus>
              </div>
              <div class="form-group">
                <label class="label-control">Hubungan dengan Jenazah</label>
                <input type="text" name="hubunganDenganPenanggungJawab" placeholder="Masukkan Hubungan dengan Jenazah"
                  class="form-control" required>
              </div>
              <div class="form-group">
                <label class="label-control">Alamat</label>
                <input type="text" name="alamatPenanggungJawab" placeholder="Masukkan Alamat" class="form-control"
                  required>
              </div>
              <div class="form-group">
                <label class="label-control">Nomor HP</label>
                <input type="number" name="nomorhpPenanggungJawab" placeholder="Masukkan Nomor Handphone"
                  class="form-control" required>
              </div>
              <div class="form-group">
                <label class="label-control">Kelurahan</label>
                <input type="text" name="kelurahanPenanggungJawab" placeholder="Masukkan Kelurahan" class="form-control"
                  required>
              </div>
              <div class="form-group">
                <label class="label-control">Kecamatan</label>
                <input type="text" name="kecamatanPenanggungJawab" placeholder="Masukkan Kecamatan" class="form-control"
                  required>
              </div>
              <button class="btn btn-primary btn-block">
                Tambah Data
              </button>
            </form>

          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Ok</button>
        </div>
      </div>
    </div>
  </div>


  <div class="select">
    <select class="form-control" id="locale">
      <option value="af-ZA">af-ZA</option>
      <option value="ar-SA">ar-SA</option>
      <option value="ca-ES">ca-ES</option>
      <option value="cs-CZ">cs-CZ</option>
      <option value="da-DK">da-DK</option>
      <option value="de-DE">de-DE</option>
      <option value="el-GR">el-GR</option>
      <option value="en-US" selected>en-US</option>
      <option value="es-AR">es-AR</option>
      <option value="es-CL">es-CL</option>
      <option value="es-CR">es-CR</option>
      <option value="es-ES">es-ES</option>
      <option value="es-MX">es-MX</option>
      <option value="es-NI">es-NI</option>
      <option value="es-SP">es-SP</option>
      <option value="et-EE">et-EE</option>
      <option value="eu-EU">eu-EU</option>
      <option value="fa-IR">fa-IR</option>
      <option value="fi-FI">fi-FI</option>
      <option value="fr-BE">fr-BE</option>
      <option value="fr-FR">fr-FR</option>
      <option value="he-IL">he-IL</option>
      <option value="hr-HR">hr-HR</option>
      <option value="hu-HU">hu-HU</option>
      <option value="id-ID">id-ID</option>
      <option value="it-IT">it-IT</option>
      <option value="ja-JP">ja-JP</option>
      <option value="ka-GE">ka-GE</option>
      <option value="ko-KR">ko-KR</option>
      <option value="ms-MY">ms-MY</option>
      <option value="nb-NO">nb-NO</option>
      <option value="nl-NL">nl-NL</option>
      <option value="pl-PL">pl-PL</option>
      <option value="pt-BR">pt-BR</option>
      <option value="pt-PT">pt-PT</option>
      <option value="ro-RO">ro-RO</option>
      <option value="ru-RU">ru-RU</option>
      <option value="sk-SK">sk-SK</option>
      <option value="sv-SE">sv-SE</option>
      <option value="th-TH">th-TH</option>
      <option value="tr-TR">tr-TR</option>
      <option value="uk-UA">uk-UA</option>
      <option value="ur-PK">ur-PK</option>
      <option value="uz-Latn-UZ">uz-Latn-UZ</option>
      <option value="vi-VN">vi-VN</option>
      <option value="zh-CN">zh-CN</option>
      <option value="zh-TW">zh-TW</option>
    </select>
  </div>

  <div id="toolbar">
    <button id="remove" class="btn btn-danger" disabled>
      <i class="fa fa-trash"></i> Delete
    </button>
  </div>




</body>


<link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
  integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
  crossorigin="" />
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="css/bootstrap-table.min.css">


<!-- Plugin JavaScript -->

<!-- Contact Form JavaScript -->

<!-- Latest compiled and minified JavaScript -->
<!-- Latest compiled and minified Locales -->
<script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
  integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
  crossorigin=""></script>
<script type="text/javascript" src="idpeningkatan.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
  integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous">
</script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
  integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous">
</script>
<script src="https://unpkg.com/bootstrap-table@1.15.4/dist/bootstrap-table.min.js"></script>
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

<script src="js/jqBootstrapValidation.js"></script>
<script src="js/contact_me.js"></script>


<!-- Custom scripts for this template -->
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<!-- Plugin JavaScript -->
<script src="vendor/jquery-easing/jquery.easing.min.js"></script>
<script src="js/freelancer.min.js"></script>

<script src="getData.js"></script>
<script src="tabel.js"></script>
<script src="map.js"></script>

<!-- Custom scripts for this template -->

<script>
  $("input[required], select[required]").attr("oninvalid", "this.setCustomValidity('Masukkan ini tidak boleh kosong')");
  $("input[required], select[required]").attr("oninput", "setCustomValidity('')");

  function detailFormatter(index, row) {
    var html = []
    $.each(row, function (key, value) {
      html.push('<p><b>' + key + ':</b> ' + value + '</p>')
    })
    return html.join('')
  }

  var $table = $('#table')
  var $remove = $('#remove')
  var selections = []

  function getIdSelections() {
    return $.map($table.bootstrapTable('getSelections'), function (row) {
      return row.id
    })
  }

  function responseHandler(res) {
    $.each(res.rows, function (i, row) {
      row.state = $.inArray(row.id, selections) !== -1
    })
    return res
  }

  function detailFormatter(index, row) {
    var html = []
    $.each(row, function (key, value) {
      html.push('<p><b>' + key + ':</b> ' + value + '</p>')
    })
    return html.join('')
  }

  function operateFormatter(value, row, index) {
    return [
      '<a class="like" href="javascript:void(0)" title="Like">',
      '<i class="fa fa-heart"></i>',
      '</a>  ',
      '<a class="remove" href="javascript:void(0)" title="Remove">',
      '<i class="fa fa-trash"></i>',
      '</a>'
    ].join('')
  }

  window.operateEvents = {
    'click .like': function (e, value, row, index) {
      alert('You click like action, row: ' + JSON.stringify(row))
    },
    'click .remove': function (e, value, row, index) {
      $table.bootstrapTable('remove', {
        field: 'id',
        values: [row.id]
      })
    }
  }

  function totalTextFormatter(data) {
    return 'Total'
  }

  function totalNameFormatter(data) {
    return data.length
  }

  function totalPriceFormatter(data) {
    var field = this.field
    return '$' + data.map(function (row) {
      return +row[field].substring(1)
    }).reduce(function (sum, i) {
      return sum + i
    }, 0)
  }

  function initTable() {
    $table.bootstrapTable('destroy').bootstrapTable({
      height: 550,
      locale: $('#locale').val(),
      columns: [
        [{
          field: 'state',
          checkbox: true,
          rowspan: 2,
          align: 'center',
          valign: 'middle'
        }, {
          title: 'Item ID',
          field: 'id',
          rowspan: 2,
          align: 'center',
          valign: 'middle',
          sortable: true,
          footerFormatter: totalTextFormatter
        }, {
          title: 'Item Detail',
          colspan: 3,
          align: 'center'
        }],
        [{
          field: 'name',
          title: 'Item Name',
          sortable: true,
          footerFormatter: totalNameFormatter,
          align: 'center'
        }, {
          field: 'price',
          title: 'Item Price',
          sortable: true,
          align: 'center',
          footerFormatter: totalPriceFormatter
        }, {
          field: 'operate',
          title: 'Item Operate',
          align: 'center',
          clickToSelect: false,
          events: window.operateEvents,
          formatter: operateFormatter
        }]
      ]
    })
    $table.on('check.bs.table uncheck.bs.table ' +
      'check-all.bs.table uncheck-all.bs.table',
      function () {
        $remove.prop('disabled', !$table.bootstrapTable('getSelections').length)

        // save your data, here just save the current page
        selections = getIdSelections()
        // push or splice the selections if you want to save all data selections
      })
    $table.on('all.bs.table', function (e, name, args) {
      console.log(name, args)
    })
    $remove.click(function () {
      var ids = getIdSelections()
      $table.bootstrapTable('remove', {
        field: 'id',
        values: ids
      })
      $remove.prop('disabled', true)
    })
  }

  $(function () {
    initTable()

    $('#locale').change(initTable)
  })
</script>

</html>