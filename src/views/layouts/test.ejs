<%- contentFor('header') %>

<link href="https://unpkg.com/bootstrap-table@1.17.1/dist/bootstrap-table.min.css" rel="stylesheet">

<script src="https://unpkg.com/bootstrap-table@1.17.1/dist/bootstrap-table.min.js"></script>

<table id="table" data-toggle="table" data-height="480" data-ajax="ajaxRequest" data-side-pagination="server"
    data-pagination="true" data-detail-view="true" data-show-columns="true" data-show-fullscreen="true"
    data-buttons-class="primary" data-detail-formatter="detailFormatter">
    <thead>
        <tr>
            <th data-field="Nama Jenazah">Nama Jenazah</th>
            <th data-field="Tanggal Meninggal">Tanggal Meninggal</th>
            <th data-field="Tanggal Kubur">Tanggal Kubur</th>
            <th data-field="Jenis Kelamin">Jenis Kelamin</th>
            <th data-field="Nama Bapak">Nama Bapak</th>
            <th data-field="Nama Ibu">Nama Ibu</th>
            <th data-field="Nama Istri/Suami">Nama Istri/Suami</th>
            <th data-field="Blok">Blok</th>
            <th data-field="Bagian">Bagian</th>
            <th data-field="Petak">Petak</th>
            <th data-field="Nama Penanggung
      Jawab">Nama Lengkap Penanggung
                Jawab</th>
            <th data-field="Hubungan PJ">Hubungan PJ</th>
            <th data-field="Nomor Telepon PJ">Nomor Telepon PJ</th>
            <th data-field="Alamat PJ">Alamat PJ</th>
            <th data-field="Kelurahan PJ">Kelurahan PJ</th>
            <th data-field="Kecamatan PJ">Kecamatan PJ</th>
        </tr>
    </thead>
</table>
<script>
    $("input[required], select[required]").attr("oninvalid",
        "this.setCustomValidity('Masukkan ini tidak boleh kosong')");
    $("input[required], select[required]").attr("oninput", "setCustomValidity('')");

    function detailFormatter(index, row) {
        var html = []
        $.each(row, function (key, value) {
            html.push('<p><b>' + key + ':</b> ' + value + '</p>')
        })
        return html.join('')
    }

    function ajaxRequest(params) {
        var url = '/getDataMakam'
        $.get(url + '?' + $.param(params.data)).then(function (res) {
            params.success(res)
            console.log(res)
        })
    }
</script>